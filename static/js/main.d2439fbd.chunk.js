(this["webpackJsonpauth0-react-sample"]=this["webpackJsonpauth0-react-sample"]||[]).push([[0],{24:function(e){e.exports=JSON.parse('{"domain":"dev-h1uc4uvp.us.auth0.com","clientId":"wDUsOJsjqnJDuP7zMqZa1yd9Vm4x2LqF","audience":"https://hawktest.com","scope":"update:current_user_metadata"}')},251:function(e,a,t){e.exports=t.p+"static/media/loading.c5590569.svg"},256:function(e,a,t){e.exports=t.p+"static/media/pizza.dabc0584.png"},259:function(e,a,t){e.exports=t.p+"static/media/whole.3ec930d2.png"},262:function(e,a,t){e.exports=t(322)},267:function(e,a,t){},319:function(e,a,t){var s={"./1c":37,"./1c.js":37,"./abnf":38,"./abnf.js":38,"./accesslog":39,"./accesslog.js":39,"./actionscript":40,"./actionscript.js":40,"./ada":41,"./ada.js":41,"./angelscript":42,"./angelscript.js":42,"./apache":43,"./apache.js":43,"./applescript":44,"./applescript.js":44,"./arcade":45,"./arcade.js":45,"./arduino":48,"./arduino.js":48,"./armasm":49,"./armasm.js":49,"./asciidoc":51,"./asciidoc.js":51,"./aspectj":52,"./aspectj.js":52,"./autohotkey":53,"./autohotkey.js":53,"./autoit":54,"./autoit.js":54,"./avrasm":55,"./avrasm.js":55,"./awk":56,"./awk.js":56,"./axapta":57,"./axapta.js":57,"./bash":58,"./bash.js":58,"./basic":59,"./basic.js":59,"./bnf":60,"./bnf.js":60,"./brainfuck":61,"./brainfuck.js":61,"./c":62,"./c-like":46,"./c-like.js":46,"./c.js":62,"./cal":63,"./cal.js":63,"./capnproto":64,"./capnproto.js":64,"./ceylon":65,"./ceylon.js":65,"./clean":66,"./clean.js":66,"./clojure":67,"./clojure-repl":68,"./clojure-repl.js":68,"./clojure.js":67,"./cmake":69,"./cmake.js":69,"./coffeescript":70,"./coffeescript.js":70,"./coq":71,"./coq.js":71,"./cos":72,"./cos.js":72,"./cpp":47,"./cpp.js":47,"./crmsh":73,"./crmsh.js":73,"./crystal":74,"./crystal.js":74,"./csharp":75,"./csharp.js":75,"./csp":76,"./csp.js":76,"./css":77,"./css.js":77,"./d":78,"./d.js":78,"./dart":80,"./dart.js":80,"./delphi":81,"./delphi.js":81,"./diff":82,"./diff.js":82,"./django":83,"./django.js":83,"./dns":84,"./dns.js":84,"./dockerfile":85,"./dockerfile.js":85,"./dos":86,"./dos.js":86,"./dsconfig":87,"./dsconfig.js":87,"./dts":88,"./dts.js":88,"./dust":89,"./dust.js":89,"./ebnf":90,"./ebnf.js":90,"./elixir":91,"./elixir.js":91,"./elm":92,"./elm.js":92,"./erb":94,"./erb.js":94,"./erlang":96,"./erlang-repl":95,"./erlang-repl.js":95,"./erlang.js":96,"./excel":97,"./excel.js":97,"./fix":98,"./fix.js":98,"./flix":99,"./flix.js":99,"./fortran":100,"./fortran.js":100,"./fsharp":101,"./fsharp.js":101,"./gams":102,"./gams.js":102,"./gauss":103,"./gauss.js":103,"./gcode":104,"./gcode.js":104,"./gherkin":105,"./gherkin.js":105,"./glsl":106,"./glsl.js":106,"./gml":107,"./gml.js":107,"./go":108,"./go.js":108,"./golo":109,"./golo.js":109,"./gradle":110,"./gradle.js":110,"./groovy":111,"./groovy.js":111,"./haml":112,"./haml.js":112,"./handlebars":113,"./handlebars.js":113,"./haskell":114,"./haskell.js":114,"./haxe":115,"./haxe.js":115,"./hsp":116,"./hsp.js":116,"./htmlbars":117,"./htmlbars.js":117,"./http":118,"./http.js":118,"./hy":119,"./hy.js":119,"./inform7":120,"./inform7.js":120,"./ini":121,"./ini.js":121,"./irpf90":122,"./irpf90.js":122,"./isbl":123,"./isbl.js":123,"./java":124,"./java.js":124,"./javascript":125,"./javascript.js":125,"./jboss-cli":126,"./jboss-cli.js":126,"./json":127,"./json.js":127,"./julia":128,"./julia-repl":129,"./julia-repl.js":129,"./julia.js":128,"./kotlin":130,"./kotlin.js":130,"./lasso":131,"./lasso.js":131,"./latex":132,"./latex.js":132,"./ldif":133,"./ldif.js":133,"./leaf":134,"./leaf.js":134,"./less":135,"./less.js":135,"./lisp":136,"./lisp.js":136,"./livecodeserver":137,"./livecodeserver.js":137,"./livescript":138,"./livescript.js":138,"./llvm":139,"./llvm.js":139,"./lsl":140,"./lsl.js":140,"./lua":141,"./lua.js":141,"./makefile":142,"./makefile.js":142,"./markdown":79,"./markdown.js":79,"./mathematica":143,"./mathematica.js":143,"./matlab":144,"./matlab.js":144,"./maxima":145,"./maxima.js":145,"./mel":146,"./mel.js":146,"./mercury":147,"./mercury.js":147,"./mipsasm":148,"./mipsasm.js":148,"./mizar":149,"./mizar.js":149,"./mojolicious":151,"./mojolicious.js":151,"./monkey":152,"./monkey.js":152,"./moonscript":153,"./moonscript.js":153,"./n1ql":154,"./n1ql.js":154,"./nginx":155,"./nginx.js":155,"./nim":156,"./nim.js":156,"./nix":157,"./nix.js":157,"./nsis":158,"./nsis.js":158,"./objectivec":159,"./objectivec.js":159,"./ocaml":160,"./ocaml.js":160,"./openscad":161,"./openscad.js":161,"./oxygene":162,"./oxygene.js":162,"./parser3":163,"./parser3.js":163,"./perl":150,"./perl.js":150,"./pf":164,"./pf.js":164,"./pgsql":165,"./pgsql.js":165,"./php":166,"./php-template":167,"./php-template.js":167,"./php.js":166,"./plaintext":168,"./plaintext.js":168,"./pony":169,"./pony.js":169,"./powershell":170,"./powershell.js":170,"./processing":171,"./processing.js":171,"./profile":172,"./profile.js":172,"./prolog":173,"./prolog.js":173,"./properties":174,"./properties.js":174,"./protobuf":175,"./protobuf.js":175,"./puppet":176,"./puppet.js":176,"./purebasic":177,"./purebasic.js":177,"./python":178,"./python-repl":179,"./python-repl.js":179,"./python.js":178,"./q":180,"./q.js":180,"./qml":181,"./qml.js":181,"./r":182,"./r.js":182,"./reasonml":183,"./reasonml.js":183,"./rib":184,"./rib.js":184,"./roboconf":185,"./roboconf.js":185,"./routeros":186,"./routeros.js":186,"./rsl":187,"./rsl.js":187,"./ruby":93,"./ruby.js":93,"./ruleslanguage":188,"./ruleslanguage.js":188,"./rust":189,"./rust.js":189,"./sas":190,"./sas.js":190,"./scala":191,"./scala.js":191,"./scheme":192,"./scheme.js":192,"./scilab":193,"./scilab.js":193,"./scss":194,"./scss.js":194,"./shell":195,"./shell.js":195,"./smali":196,"./smali.js":196,"./smalltalk":197,"./smalltalk.js":197,"./sml":198,"./sml.js":198,"./sqf":199,"./sqf.js":199,"./sql":200,"./sql.js":200,"./stan":201,"./stan.js":201,"./stata":202,"./stata.js":202,"./step21":203,"./step21.js":203,"./stylus":204,"./stylus.js":204,"./subunit":205,"./subunit.js":205,"./swift":206,"./swift.js":206,"./taggerscript":207,"./taggerscript.js":207,"./tap":209,"./tap.js":209,"./tcl":210,"./tcl.js":210,"./thrift":211,"./thrift.js":211,"./tp":212,"./tp.js":212,"./twig":213,"./twig.js":213,"./typescript":214,"./typescript.js":214,"./vala":215,"./vala.js":215,"./vbnet":216,"./vbnet.js":216,"./vbscript":217,"./vbscript-html":218,"./vbscript-html.js":218,"./vbscript.js":217,"./verilog":219,"./verilog.js":219,"./vhdl":220,"./vhdl.js":220,"./vim":221,"./vim.js":221,"./x86asm":222,"./x86asm.js":222,"./xl":223,"./xl.js":223,"./xml":50,"./xml.js":50,"./xquery":224,"./xquery.js":224,"./yaml":208,"./yaml.js":208,"./zephir":225,"./zephir.js":225};function r(e){var a=n(e);return t(a)}function n(e){if(!t.o(s,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=n,e.exports=r,r.id=319},321:function(e,a,t){},322:function(e,a,t){"use strict";t.r(a);var s=t(0),r=t.n(s),n=t(29),l=t.n(n),c=(t(267),t(9)),o=t(324),i=t(251),m=t.n(i),u=function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("img",{src:m.a,alt:"Loading"}))},p=t(31),j=t(22),d=t(27),f=t(323),h=t(325),g=t(326),b=t(327),v=t(328),E=t(329),x=t(330),k=t(253),y=t(334),w=t(335),N=t(336),O=t(331),q=t(14),P=function(){var e=Object(s.useState)(!1),a=Object(p.a)(e,2),t=a[0],n=a[1],l=Object(q.b)(),c=l.user,i=l.isAuthenticated,m=l.loginWithRedirect,u=l.logout,P=function(){return u({returnTo:window.location.origin})};return r.a.createElement("div",{className:"nav-container"},r.a.createElement(f.a,{color:"light",light:!0,expand:"md"},r.a.createElement(o.a,null,r.a.createElement(h.a,{className:"logo"}),r.a.createElement(g.a,{onClick:function(){return n(!t)}}),r.a.createElement(b.a,{isOpen:t,navbar:!0},r.a.createElement(v.a,{className:"mr-auto",navbar:!0},r.a.createElement(E.a,null,r.a.createElement(x.a,{tag:j.a,to:"/",exact:!0,activeClassName:"router-link-exact-active"},"Home")),i&&r.a.createElement(E.a,null,r.a.createElement(x.a,{tag:j.a,to:"/external-api",exact:!0,activeClassName:"router-link-exact-active"},"Online Menu"))),r.a.createElement(v.a,{className:"d-none d-md-block",navbar:!0},!i&&r.a.createElement(E.a,null,r.a.createElement(k.a,{id:"qsLoginBtn",color:"primary",className:"btn-margin",onClick:function(){return m()}},"Log in")),i&&r.a.createElement(y.a,{nav:!0,inNavbar:!0},r.a.createElement(w.a,{nav:!0,caret:!0,id:"profileDropDown"},r.a.createElement("img",{src:c.picture,alt:"Profile",className:"nav-user-profile rounded-circle",width:"50"})),r.a.createElement(N.a,null,r.a.createElement(O.a,{header:!0},c.name),r.a.createElement(O.a,{tag:j.a,to:"/profile",className:"dropdown-profile",activeClassName:"router-link-exact-active"},r.a.createElement(d.a,{icon:"user",className:"mr-3"})," Profile"),r.a.createElement(O.a,{id:"qsLogoutBtn",onClick:function(){return P()}},r.a.createElement(d.a,{icon:"power-off",className:"mr-3"})," Log out")))),!i&&r.a.createElement(v.a,{className:"d-md-none",navbar:!0},r.a.createElement(E.a,null,r.a.createElement(k.a,{id:"qsLoginBtn",color:"primary",block:!0,onClick:function(){return m({})}},"Log in"))),i&&r.a.createElement(v.a,{className:"d-md-none justify-content-between",navbar:!0,style:{minHeight:170}},r.a.createElement(E.a,null,r.a.createElement("span",{className:"user-info"},r.a.createElement("img",{src:c.picture,alt:"Profile",className:"nav-user-profile d-inline-block rounded-circle mr-3",width:"50"}),r.a.createElement("h6",{className:"d-inline-block"},c.name))),r.a.createElement(E.a,null,r.a.createElement(d.a,{icon:"user",className:"mr-3"}),r.a.createElement(j.a,{to:"/profile",activeClassName:"router-link-exact-active"},"Profile")),r.a.createElement(E.a,null,r.a.createElement(d.a,{icon:"power-off",className:"mr-3"}),r.a.createElement(j.a,{to:"#",id:"qsLogoutBtn",onClick:function(){return P()}},"Log out")))))))},z=function(){return r.a.createElement("footer",{className:"bg-light p-3 text-center"},r.a.createElement("div",{className:"logo"}),r.a.createElement("p",null,"Sample project provided by ",r.a.createElement("a",{href:"https://auth0.com"},"Auth0")))},_=t(256),C=t.n(_),L=function(){return r.a.createElement("div",{className:"text-center hero my-5"},r.a.createElement("img",{className:"mb-3 app-logo",src:C.a,alt:"React logo",width:"120"}),r.a.createElement("h1",{className:"mb-4"},"Pizza 42"),r.a.createElement("p",{className:"lead"},"This is a sample application that demonstrates an authentication flow for an SPA, using ",r.a.createElement("a",{href:"https://reactjs.org"},"React.js")))},S=function(){return r.a.createElement(s.Fragment,null,r.a.createElement(L,null),r.a.createElement("hr",null))},R=t(332),D=t(333),J=t(257),T=t(258),A=t(261),B=t(260),M=t(232),I=t.n(M),U=(t(318),{}),W=function(e){Object(A.a)(s,e);var a=Object(B.a)(s);function s(e){var t;return Object(J.a)(this,s),(t=a.call(this,e)).highlight=function(){t.codeNode&&t.codeNode.current&&I.a.highlightBlock(t.codeNode.current)},t.state={loaded:!1},t.codeNode=r.a.createRef(),t}return Object(T.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.language;if(e&&!U[e])try{var a=t(319)("./".concat(e));I.a.registerLanguage(e,a),U[e]=!0,this.setState({loaded:!0},this.highlight)}catch(s){throw console.error(s),Error("Cannot register the language ".concat(e))}else this.setState({loaded:!0})}},{key:"componentDidUpdate",value:function(){this.highlight()}},{key:"render",value:function(){var e=this.props,a=e.language,t=e.children;return this.state.loaded?r.a.createElement("pre",{className:"rounded"},r.a.createElement("code",{ref:this.codeNode,className:a},t)):null}}]),s}(s.Component);W.defaultProps={language:"json"};var F=W,H=Object(q.c)((function(){var e=Object(q.b)().user;return r.a.createElement(o.a,{className:"mb-5"},r.a.createElement(R.a,{className:"align-items-center profile-header mb-5 text-center text-md-left"},r.a.createElement(D.a,{md:2},r.a.createElement("img",{src:e.picture,alt:"Profile",className:"rounded-circle img-fluid profile-picture mb-3 mb-md-0"})),r.a.createElement(D.a,{md:!0},r.a.createElement("h2",null,e.name),r.a.createElement("p",{className:"lead text-muted"},e.email))),r.a.createElement(R.a,null,r.a.createElement(F,null,JSON.stringify(e,null,2))))}),{onRedirecting:function(){return r.a.createElement(u,null)}}),X=t(18),Y=t.n(X),V=t(11),Z=t(28),$=t(337),G=t(24),K=t(259),Q=t.n(K),ee=G.apiOrigin,ae=void 0===ee?"http://localhost:3001":ee,te=Object(q.c)((function(){var e=Object(s.useState)({showResult:!1,apiMessage:"",error:null}),a=Object(p.a)(e,2),t=a[0],n=a[1],l=Object(q.b)(),c=l.user,o=l.getAccessTokenSilently,i=l.loginWithPopup,m=l.getAccessTokenWithPopup,u=function(){var e=Object(Z.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m({scope:"update:current_user_metadata"});case 3:n(Object(V.a)(Object(V.a)({},t),{},{error:null})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n(Object(V.a)(Object(V.a)({},t),{},{error:e.t0.error}));case 9:return e.next=11,f();case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(Z.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i();case 3:n(Object(V.a)(Object(V.a)({},t),{},{error:null})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n(Object(V.a)(Object(V.a)({},t),{},{error:e.t0.error}));case 9:return e.next=11,f();case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(Z.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"No Pizza for you! Please verify your email before ordering.",n(Object(V.a)(Object(V.a)({},t),{},{showResult:!0,apiMessage:"No Pizza for you! Please verify your email before ordering."}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(Z.a)(Y.a.mark((function e(){var a,s,r,l,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(c),e.prev=1,e.next=4,o();case 4:return a=e.sent,e.next=7,q.b;case 7:return s=e.sent,console.log(JSON.stringify(s)),r=Date.now(),s.user_metadata=s.user_metadata||{},s.user_metadata.orders=s.user_metadata.orders||{},s.user_metadata.orders={date:r,Pizza:"XL"},console.log(s.user_metadata),e.next=16,fetch("".concat(ae,"/api/external"),{headers:{Authorization:"Bearer ".concat(a),"Content-type":"application/json"},method:"POST",body:JSON.stringify(s.user_metadata.orders)});case 16:if(l=e.sent,!(l.status>200)){e.next=22;break}i="Insufficent Scope: a scope of update:current_user_metadata is required",e.next=25;break;case 22:return e.next=24,l.json();case 24:i=e.sent;case 25:n(Object(V.a)(Object(V.a)({},t),{},{showResult:!0,apiMessage:i})),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(1),n(Object(V.a)(Object(V.a)({},t),{},{error:e.t0.error}));case 31:case"end":return e.stop()}}),e,null,[[1,28]])})));return function(){return e.apply(this,arguments)}}(),h=function(e,a){e.preventDefault(),a()};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mb-5"},"consent_required"===t.error&&r.a.createElement($.a,{color:"warning"},"You need to"," ",r.a.createElement("a",{href:"#/",class:"alert-link",onClick:function(e){return h(e,u)}},"consent to get access to users api")),"login_required"===t.error&&r.a.createElement($.a,{color:"warning"},"You need to"," ",r.a.createElement("a",{href:"#/",class:"alert-link",onClick:function(e){return h(e,j)}},"log in again")),r.a.createElement("img",{className:"mb-3 app-logo",src:Q.a,alt:"React logo",width:"120"}),r.a.createElement("h1",null,"XL Pizza"),r.a.createElement("p",null,"Ping an external API by clicking the button below. This will call the external API using valid token with a specific scope."),r.a.createElement(k.a,{color:"primary",className:"mt-5",onClick:c.email_verified?f:d},"Order")),r.a.createElement("div",{className:"result-block-container"},t.showResult&&r.a.createElement("div",{className:"result-block","data-testid":"api-result"},r.a.createElement("h6",{className:"muted"},"Result"),r.a.createElement(F,null,r.a.createElement("span",null,JSON.stringify(t.apiMessage,null,2))))))}),{onRedirecting:function(){return r.a.createElement(u,null)}}),se=t(13),re=Object(se.a)(),ne=(t(321),t(21)),le=t(32);(function(){ne.b.add(le.a),ne.b.add(le.c),ne.b.add(le.b)})();var ce=function(){var e=Object(q.b)(),a=e.isLoading,t=e.error;return t?r.a.createElement("div",null,"Oops... ",t.message):a?r.a.createElement(u,null):r.a.createElement(c.b,{history:re},r.a.createElement("div",{id:"app",className:"d-flex flex-column h-100"},r.a.createElement(P,null),r.a.createElement(o.a,{className:"flex-grow-1 mt-5"},r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/",exact:!0,component:S}),r.a.createElement(c.a,{path:"/profile",component:H}),r.a.createElement(c.a,{path:"/external-api",component:te}))),r.a.createElement(z,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(q.a,{domain:G.domain,clientId:G.clientId,audience:G.audience,scope:G.scope,redirectUri:window.location.origin,onRedirectCallback:function(e){re.push(e&&e.returnTo?e.returnTo:window.location.pathname)}},r.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[262,1,2]]]);
//# sourceMappingURL=main.d2439fbd.chunk.js.map